
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/plot_uncertainty_propagation.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_examples_plot_uncertainty_propagation.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_plot_uncertainty_propagation.py:


Uncertainty propagation
=======================

In this example,
we will propagate uncertainties through a discipline :math:`f:u,v\mapsto u+v`

.. GENERATED FROM PYTHON SOURCE LINES 8-14

.. code-block:: default


    from gemseo.api import create_discipline, create_parameter_space
    from gemseo.uncertainty.api import create_statistics
    from gemseo_mlearning.api import sample_discipline
    from matplotlib import pyplot as plt








.. GENERATED FROM PYTHON SOURCE LINES 15-18

Firstly,
we define a uncertain space with two normal random variables :math:`u` and :math:`v`
with mean -1 and +1 and unit standard deviation.

.. GENERATED FROM PYTHON SOURCE LINES 18-22

.. code-block:: default

    uncertain_space = create_parameter_space()
    uncertain_space.add_random_variable("u", "OTNormalDistribution", mu=-1.)
    uncertain_space.add_random_variable("v", "OTNormalDistribution", mu=1.)








.. GENERATED FROM PYTHON SOURCE LINES 23-25

Then,
we define the discipline from analytic formula:

.. GENERATED FROM PYTHON SOURCE LINES 25-27

.. code-block:: default

    discipline = create_discipline("AnalyticDiscipline", expressions={"w": "u+v"})








.. GENERATED FROM PYTHON SOURCE LINES 28-30

Thirdly,
we sample the discipline with a Monte Carlo algorithm:

.. GENERATED FROM PYTHON SOURCE LINES 30-32

.. code-block:: default

    dataset = sample_discipline(discipline, uncertain_space, ["w"], "OT_MONTE_CARLO", 1000)








.. GENERATED FROM PYTHON SOURCE LINES 33-36

Lastly,
we create an :class:`.EmpiricalStatistics` object to estimate statistics,
such as mean and variance:

.. GENERATED FROM PYTHON SOURCE LINES 36-43

.. code-block:: default

    statistics = create_statistics(dataset)
    mean = statistics.compute_mean()
    variance = statistics.compute_variance()
    names = ["u", "v", "w"]
    for name in names:
        print(name, mean[name][0], variance[name][0])





.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    u -0.947776842011246 0.9405180678918997
    v 0.9589697721518806 1.0263090423482364
    w 0.011192930140634601 1.9698802472293142




.. GENERATED FROM PYTHON SOURCE LINES 44-48

.. note::
   The mean and standard deviation of the output are almost equal to 0 and 2,
   which is the expected behavior
   of the sum of two independent Gaussian random variables.

.. GENERATED FROM PYTHON SOURCE LINES 50-51

We ca also plot the histogram of the three random variables:

.. GENERATED FROM PYTHON SOURCE LINES 51-56

.. code-block:: default

    fig, axes = plt.subplots(1, 3)
    for ax, name in zip(axes, names):
        ax.hist(dataset[name])
        ax.set_title(name)
    plt.show()



.. image-sg:: /examples/images/sphx_glr_plot_uncertainty_propagation_001.png
   :alt: u, v, w
   :srcset: /examples/images/sphx_glr_plot_uncertainty_propagation_001.png
   :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.256 seconds)


.. _sphx_glr_download_examples_plot_uncertainty_propagation.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example


    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_uncertainty_propagation.py <plot_uncertainty_propagation.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_uncertainty_propagation.ipynb <plot_uncertainty_propagation.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
